<h2 class="text-center mt-2">Automatic Lodestone News updates for your Discord server!</h2>

<div class="row mt-4">
  <div class="col-12 col-md-8 offset-md-2 col-lg-6 offset-lg-3">
    <div class="card">
      <div class="card-header">
        <h5 class="mb-0">Choose your preferences</h5>
      </div>
      <div class="card-body">
        <%= form_with(url: subscribe_webhook_path, local: true, class: 'form') do |f| %>
          <div class="form-group">
            <%= f.label :locale, 'Region' %>
            <%= f.select :locale, locale_options, {}, class: 'form-control' %>
          </div>
          <div class="form-group">
            <%= label_tag nil, 'Categories', class: 'mb-0' %>
            <% Lodestone.categories.each do |category| %>
              <div class="form-check ml-3">
                <%= check_box_tag category, '1', params[category] == '1', class: 'form-check-input' %>
                <%= f.label category, class: 'form-check-label' %>
              </div>
            <% end %>
          </div>
          <div class="text-center">
            <%= f.submit 'Subscribe', class: 'btn btn-primary' %>
            <p class="my-2">This requires the <b>Manage Webhooks</b> permission.</p>
          </div>
        <% end %>
      </div>
    </div>
  </div>
</div>

<div class="row mt-4">
  <div class="col-12 col-md-8 offset-md-2">
    <div class="card">
      <div class="card-header">
        <h5 class="mb-0">FAQ</h5>
      </div>
      <div class="card-body pt-3 pb-2">
        <h5>Can I see an example post?</h5>
        <p>
          <%= link_to 'You sure can.', image_path('example.png', skip_pipeline: true), target: '_blank' %>
        </p>

        <h5>What is a webhook?</h5>
        <p>
          A webhook is a simple and safe way to let an application send messages to your
          Discord server. You set the channel where you want it to post, and you can
          delete the webhook at any time.
        </p>

        <h5>How do I change my subscription?</h5>
        <p>
          To change your subscription, you will need to unsubscribe and then subscribe again
          with your new preferences.
        </p>

        <h5>How do I unsubscribe?</h5>
        <p>
          Edit Channel &gt; Integrations &gt; Webhooks &gt; Lodestone &gt; Delete Webhook
        </p>
      </div>
    </div>
  </div>
</div>
